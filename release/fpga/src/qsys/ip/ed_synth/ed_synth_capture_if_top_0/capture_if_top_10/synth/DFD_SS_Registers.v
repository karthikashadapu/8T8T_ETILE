// -----------------------------------------------------------------------------
//  Generated by Magillem, from Arteris IPD division
//  Version: 5.16.0 (20230705092541_5.16.0)
//  Date   : 2024-07-18 20:43:26
// -----------------------------------------------------------------------------
//  Verilog Register Bank
// -----------------------------------------------------------------------------
//  Component Name: DFD_SS_Registers
//  File Ref      : /nfs/site/disks/ceg_user_bkhantwa/ipxact/csrgen_output/_workspace_mrv_gen_py_/xmlProject/_local_copy_Vendor_Library_DFD_SS_Registers_1.0.xml
//  Protocol      : AVALON
//  Wait State    : WS1_OUTPUT
// -----------------------------------------------------------------------------

module DFD_SS_Registers(

   // dsp_start_capture.dsp_capture_start
   output reg dsp_start_capture_dsp_capture_start,
   // dsp_start_capture.dsp_trigger_based_capture
   output reg dsp_start_capture_dsp_trigger_based_capture,
   // dsp_start_capture.dsp_frame_based_capture
   output reg dsp_start_capture_dsp_frame_based_capture,
   // dsp_ss_sel.subsystem_select
   output reg [31:0] dsp_ss_sel_subsystem_select,
   // dsp_channel_sel.channel_number_select
   output reg [31:0] dsp_channel_sel_channel_number_select,
   // dsp_subframe_config.sample_select
   output reg [14:0] dsp_subframe_config_sample_select,
   // dsp_subframe_config.symbol_select
   output reg [4:0] dsp_subframe_config_symbol_select,
   // dsp_subframe_config.subframe_select
   output reg [3:0] dsp_subframe_config_subframe_select,
   // dsp_frame_config.radio_frame_select
   output reg [9:0] dsp_frame_config_radio_frame_select,
   // dsp_interface_sel.interface_select
   output reg [31:0] dsp_interface_sel_interface_select,

   // Bus interface
   input wire clk,
   input wire reset,
   input wire [31:0] writedata,
   input wire read,
   input wire write,
   input wire [3:0] byteenable,
   output reg [31:0] readdata,
   output reg readdatavalid,
   input wire [4:0] address
);

wire reset_n = !reset;

// -----------------------------------------------------------------------------
// Protocol management
// -----------------------------------------------------------------------------

reg [31:0] rdata_comb;
always @(negedge reset_n, posedge clk)
   if (!reset_n) readdata[31:0] <= 32'h00000000; else readdata[31:0] <= rdata_comb[31:0];

// Read data is always valid the cycle after read transaction is asserted
always @(negedge reset_n, posedge clk)
   if (!reset_n) readdatavalid <= 1'b0; else readdatavalid <= read;

wire we = write;
wire re = read;
wire [4:0] addr = address[4:0];
wire [31:0] din = writedata[31:0];

// -----------------------------------------------------------------------------
// Write byte enables
// -----------------------------------------------------------------------------

// Register dsp_start_capture
wire we_dsp_start_capture = we & (addr[4:0] == 5'h00) ? byteenable[0] : 1'b0;
// Register dsp_ss_sel
wire [3:0] we_dsp_ss_sel = we & (addr[4:0] == 5'h04) ? byteenable[3:0] : {4{1'b0}};
// Register dsp_channel_sel
wire [3:0] we_dsp_channel_sel = we & (addr[4:0] == 5'h08) ? byteenable[3:0] : {4{1'b0}};
// Register dsp_subframe_config
wire [2:0] we_dsp_subframe_config = we & (addr[4:0] == 5'h0c) ? byteenable[2:0] : {3{1'b0}};
// Register dsp_frame_config
wire [1:0] we_dsp_frame_config = we & (addr[4:0] == 5'h10) ? byteenable[1:0] : {2{1'b0}};
// Register dsp_interface_sel
wire [3:0] we_dsp_interface_sel = we & (addr[4:0] == 5'h14) ? byteenable[3:0] : {4{1'b0}};

// -----------------------------------------------------------------------------
// Read byte enables
// -----------------------------------------------------------------------------

// -----------------------------------------------------------------------------
// Register dsp_start_capture implementation
// -----------------------------------------------------------------------------

// dsp_start_capture_dsp_capture_start
//    bitfield description: Bit[0]- Capture Start - '0' - Disables capture '1'
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 1'h0

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_start_capture_dsp_capture_start <= 1'h0;
   end
   else begin
      if (we_dsp_start_capture) begin
         dsp_start_capture_dsp_capture_start <= din[0];
      end
   end

// dsp_start_capture_dsp_trigger_based_capture
//    bitfield description: Bit[1]- enable/disable trigger based capture ('0'-disable , '1'-enable)
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 1'h0

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_start_capture_dsp_trigger_based_capture <= 1'h0;
   end
   else begin
      if (we_dsp_start_capture) begin
         dsp_start_capture_dsp_trigger_based_capture <= din[1];
      end
   end

// dsp_start_capture_dsp_frame_based_capture
//    bitfield description: Bit[2]- enable/disable frame based capture ('0'-disable , '1'-enable).
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 1'h0

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_start_capture_dsp_frame_based_capture <= 1'h0;
   end
   else begin
      if (we_dsp_start_capture) begin
         dsp_start_capture_dsp_frame_based_capture <= din[2];
      end
   end

// -----------------------------------------------------------------------------
// Register dsp_ss_sel implementation
// -----------------------------------------------------------------------------

// dsp_ss_sel_subsystem_select
//    bitfield description: Subsystem Select
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 32'h00000000

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_ss_sel_subsystem_select <= 32'h00000000;
   end
   else begin
      if (we_dsp_ss_sel[0]) begin
         dsp_ss_sel_subsystem_select[7:0] <= din[7:0];
      end
      if (we_dsp_ss_sel[1]) begin
         dsp_ss_sel_subsystem_select[15:8] <= din[15:8];
      end
      if (we_dsp_ss_sel[2]) begin
         dsp_ss_sel_subsystem_select[23:16] <= din[23:16];
      end
      if (we_dsp_ss_sel[3]) begin
         dsp_ss_sel_subsystem_select[31:24] <= din[31:24];
      end
   end

// -----------------------------------------------------------------------------
// Register dsp_channel_sel implementation
// -----------------------------------------------------------------------------

// dsp_channel_sel_channel_number_select
//    bitfield description: Selects a particular channel of the selcted interface.
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 32'h00000000

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_channel_sel_channel_number_select <= 32'h00000000;
   end
   else begin
      if (we_dsp_channel_sel[0]) begin
         dsp_channel_sel_channel_number_select[7:0] <= din[7:0];
      end
      if (we_dsp_channel_sel[1]) begin
         dsp_channel_sel_channel_number_select[15:8] <= din[15:8];
      end
      if (we_dsp_channel_sel[2]) begin
         dsp_channel_sel_channel_number_select[23:16] <= din[23:16];
      end
      if (we_dsp_channel_sel[3]) begin
         dsp_channel_sel_channel_number_select[31:24] <= din[31:24];
      end
   end

// -----------------------------------------------------------------------------
// Register dsp_subframe_config implementation
// -----------------------------------------------------------------------------

// dsp_subframe_config_sample_select
//    bitfield description: Bit[14:0]- selects a particular sample
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 15'h0000

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_subframe_config_sample_select <= 15'h0000;
   end
   else begin
      if (we_dsp_subframe_config[0]) begin
         dsp_subframe_config_sample_select[7:0] <= din[7:0];
      end
      if (we_dsp_subframe_config[1]) begin
         dsp_subframe_config_sample_select[14:8] <= din[14:8];
      end
   end

// dsp_subframe_config_symbol_select
//    bitfield description: Bit[19:15]- selects a particular symbol.
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 5'h00

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_subframe_config_symbol_select <= 5'h00;
   end
   else begin
      if (we_dsp_subframe_config[1]) begin
         dsp_subframe_config_symbol_select[0] <= din[15];
      end
      if (we_dsp_subframe_config[2]) begin
         dsp_subframe_config_symbol_select[4:1] <= din[19:16];
      end
   end

// dsp_subframe_config_subframe_select
//    bitfield description: Bit[23:20]-selects a particular subframe
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 4'h0

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_subframe_config_subframe_select <= 4'h0;
   end
   else begin
      if (we_dsp_subframe_config[2]) begin
         dsp_subframe_config_subframe_select[3:0] <= din[23:20];
      end
   end

// -----------------------------------------------------------------------------
// Register dsp_frame_config implementation
// -----------------------------------------------------------------------------

// dsp_frame_config_radio_frame_select
//    bitfield description: Bit[9:0] - selects a particular radio frame
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 10'h000

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_frame_config_radio_frame_select <= 10'h000;
   end
   else begin
      if (we_dsp_frame_config[0]) begin
         dsp_frame_config_radio_frame_select[7:0] <= din[7:0];
      end
      if (we_dsp_frame_config[1]) begin
         dsp_frame_config_radio_frame_select[9:8] <= din[9:8];
      end
   end

// -----------------------------------------------------------------------------
// Register dsp_interface_sel implementation
// -----------------------------------------------------------------------------

// dsp_interface_sel_interface_select
//    bitfield description: Selects a particular interface .
//    customType          : RW
//    hwAccess            : RO
//    reset value         : 32'h00000000

always @(negedge reset_n, posedge clk)
   if (!reset_n) begin
      dsp_interface_sel_interface_select <= 32'h00000000;
   end
   else begin
      if (we_dsp_interface_sel[0]) begin
         dsp_interface_sel_interface_select[7:0] <= din[7:0];
      end
      if (we_dsp_interface_sel[1]) begin
         dsp_interface_sel_interface_select[15:8] <= din[15:8];
      end
      if (we_dsp_interface_sel[2]) begin
         dsp_interface_sel_interface_select[23:16] <= din[23:16];
      end
      if (we_dsp_interface_sel[3]) begin
         dsp_interface_sel_interface_select[31:24] <= din[31:24];
      end
   end

// -----------------------------------------------------------------------------
// Data read management
// -----------------------------------------------------------------------------

always @(*)
begin
   rdata_comb = 32'h00000000;
   if (re) begin
      case (addr)
         // Register dsp_start_capture: dsp_start_capture_dsp_capture_start (RW)
         //                             dsp_start_capture_dsp_trigger_based_capture (RW)
         //                             dsp_start_capture_dsp_frame_based_capture (RW)
         5'h00: begin
            rdata_comb[0] = dsp_start_capture_dsp_capture_start;
            rdata_comb[1] = dsp_start_capture_dsp_trigger_based_capture;
            rdata_comb[2] = dsp_start_capture_dsp_frame_based_capture;
         end
         // Register dsp_ss_sel: dsp_ss_sel_subsystem_select (RW)
         5'h04: begin
            rdata_comb[31:0] = dsp_ss_sel_subsystem_select[31:0];
         end
         // Register dsp_channel_sel: dsp_channel_sel_channel_number_select (RW)
         5'h08: begin
            rdata_comb[31:0] = dsp_channel_sel_channel_number_select[31:0];
         end
         // Register dsp_subframe_config: dsp_subframe_config_sample_select (RW)
         //                               dsp_subframe_config_symbol_select (RW)
         //                               dsp_subframe_config_subframe_select (RW)
         5'h0c: begin
            rdata_comb[14:0] = dsp_subframe_config_sample_select[14:0];
            rdata_comb[19:15] = dsp_subframe_config_symbol_select[4:0];
            rdata_comb[23:20] = dsp_subframe_config_subframe_select[3:0];
         end
         // Register dsp_frame_config: dsp_frame_config_radio_frame_select (RW)
         5'h10: begin
            rdata_comb[9:0] = dsp_frame_config_radio_frame_select[9:0];
         end
         // Register dsp_interface_sel: dsp_interface_sel_interface_select (RW)
         5'h14: begin
            rdata_comb[31:0] = dsp_interface_sel_interface_select[31:0];
         end
         default: begin
            rdata_comb = 32'h00000000;
         end
      endcase
   end
end

endmodule