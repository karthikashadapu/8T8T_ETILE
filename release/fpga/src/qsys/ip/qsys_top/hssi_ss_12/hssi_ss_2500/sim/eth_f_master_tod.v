// eth_f_master_tod.v

// Generated using ACDS version 24.1 115

`timescale 1 ps / 1 ps
module eth_f_master_tod #(
		parameter PERIOD_CLOCK_FREQUENCY        = 0,
		parameter OFFSET_JITTER_WANDER_EN       = 0,
		parameter DEFAULT_NSEC_PERIOD           = 8,
		parameter DEFAULT_FNSEC_PERIOD          = 0,
		parameter DEFAULT_NSEC_ADJPERIOD        = 8,
		parameter DEFAULT_FNSEC_ADJPERIOD       = 0,
		parameter ENABLE_PPS                    = 1,
		parameter PPS_PULSE_ASSERT_CYCLE_MASTER = 2,
		parameter PPS_ADVANCE                   = 1,
		parameter PLL_SCAN_CLK_FREQ             = 100,
		parameter UNIT_PHASE_SHIFT              = 90,
		parameter DEVICE_FAMILY                 = "Agilex 7",
		parameter DEVICE_FAMILY_ID              = "Agilex"
	) (
		input  wire        clk,                        //            csr_clock.clk
		input  wire        rst_n,                      //            csr_reset.reset_n
		input  wire        period_clk,                 //         period_clock.clk
		input  wire        period_rst_n,               //   period_clock_reset.reset_n
		output wire [31:0] csr_readdata,               //                  csr.readdata
		input  wire        csr_write,                  //                     .write
		input  wire        csr_read,                   //                     .read
		input  wire [31:0] csr_writedata,              //                     .writedata
		output wire        csr_waitrequest,            //                     .waitrequest
		input  wire [3:0]  csr_address,                //                     .address
		output wire [95:0] time_of_day_96b,            //      time_of_day_96b.data
		output wire [63:0] time_of_day_64b,            //      time_of_day_64b.data
		input  wire [95:0] time_of_day_96b_load_data,  // time_of_day_96b_load.data
		input  wire        time_of_day_96b_load_valid, //                     .valid
		input  wire [63:0] time_of_day_64b_load_data,  // time_of_day_64b_load.data
		input  wire        time_of_day_64b_load_valid, //                     .valid
		input  wire        iopll_scan_clk,             //           scan_clock.clk
		input  wire        pps_sampling_clk,           //       sampling_clock.clk
		input  wire        iopll_phased_clk,           //         phased_clock.clk
		input  wire        iopll_locked,               //        pll_interface.lock
		input  wire        iopll_phase_done,           //                     .done
		output wire        iopll_phase_en,             //                     .enable
		output wire        iopll_updn,                 //                     .up_down
		output wire [2:0]  iopll_num_phase_shifts,     //                     .num
		output wire [4:0]  iopll_cnt_sel,              //                     .count_select
		output wire        pps_pulse_per_second        //        pps_interface.phased_pulse
	);

	generate
		// If any of the display statements (or deliberately broken
		// instantiations) within this generate block triggers then this module
		// has been instantiated this module with a set of parameters different
		// from those it was generated for.  This will usually result in a
		// non-functioning system.
		if (ENABLE_PPS != 1)
		begin
		// synthesis translate_off
			initial begin
				$display("Generated module instantiated with wrong parameters");
				$stop;
			end
		// synthesis translate_on
			instantiated_with_wrong_parameters_error_see_comment_above
					enable_pps_check ( .error(1'b1) );
		end
		if (PPS_ADVANCE != 1)
		begin
		// synthesis translate_off
			initial begin
				$display("Generated module instantiated with wrong parameters");
				$stop;
			end
		// synthesis translate_on
			instantiated_with_wrong_parameters_error_see_comment_above
					pps_advance_check ( .error(1'b1) );
		end
		if (DEVICE_FAMILY != "Agilex 7")
		begin
		// synthesis translate_off
			initial begin
				$display("Generated module instantiated with wrong parameters");
				$stop;
			end
		// synthesis translate_on
			instantiated_with_wrong_parameters_error_see_comment_above
					device_family_check ( .error(1'b1) );
		end
		if (DEVICE_FAMILY_ID != "Agilex")
		begin
		// synthesis translate_off
			initial begin
				$display("Generated module instantiated with wrong parameters");
				$stop;
			end
		// synthesis translate_on
			instantiated_with_wrong_parameters_error_see_comment_above
					device_family_id_check ( .error(1'b1) );
		end
	endgenerate

	altera_eth_1588_tod #(
		.PERIOD_CLOCK_FREQUENCY        (PERIOD_CLOCK_FREQUENCY),
		.OFFSET_JITTER_WANDER_EN       (OFFSET_JITTER_WANDER_EN),
		.DEFAULT_NSEC_PERIOD           (DEFAULT_NSEC_PERIOD),
		.DEFAULT_FNSEC_PERIOD          (DEFAULT_FNSEC_PERIOD),
		.DEFAULT_NSEC_ADJPERIOD        (DEFAULT_NSEC_ADJPERIOD),
		.DEFAULT_FNSEC_ADJPERIOD       (DEFAULT_FNSEC_ADJPERIOD),
		.ENABLE_PPS                    (1),
		.PPS_PULSE_ASSERT_CYCLE_MASTER (PPS_PULSE_ASSERT_CYCLE_MASTER),
		.PPS_ADVANCE                   (1),
		.PLL_SCAN_CLK_FREQ             (PLL_SCAN_CLK_FREQ),
		.UNIT_PHASE_SHIFT              (UNIT_PHASE_SHIFT),
		.DEVICE_FAMILY                 ("Agilex 7"),
		.DEVICE_FAMILY_ID              ("Agilex")
	) eth_f_master_tod (
		.clk                        (clk),                        //   input,   width = 1,            csr_clock.clk
		.rst_n                      (rst_n),                      //   input,   width = 1,            csr_reset.reset_n
		.period_clk                 (period_clk),                 //   input,   width = 1,         period_clock.clk
		.period_rst_n               (period_rst_n),               //   input,   width = 1,   period_clock_reset.reset_n
		.csr_readdata               (csr_readdata),               //  output,  width = 32,                  csr.readdata
		.csr_write                  (csr_write),                  //   input,   width = 1,                     .write
		.csr_read                   (csr_read),                   //   input,   width = 1,                     .read
		.csr_writedata              (csr_writedata),              //   input,  width = 32,                     .writedata
		.csr_waitrequest            (csr_waitrequest),            //  output,   width = 1,                     .waitrequest
		.csr_address                (csr_address),                //   input,   width = 4,                     .address
		.time_of_day_96b            (time_of_day_96b),            //  output,  width = 96,      time_of_day_96b.data
		.time_of_day_64b            (time_of_day_64b),            //  output,  width = 64,      time_of_day_64b.data
		.time_of_day_96b_load_data  (time_of_day_96b_load_data),  //   input,  width = 96, time_of_day_96b_load.data
		.time_of_day_96b_load_valid (time_of_day_96b_load_valid), //   input,   width = 1,                     .valid
		.time_of_day_64b_load_data  (time_of_day_64b_load_data),  //   input,  width = 64, time_of_day_64b_load.data
		.time_of_day_64b_load_valid (time_of_day_64b_load_valid), //   input,   width = 1,                     .valid
		.iopll_scan_clk             (iopll_scan_clk),             //   input,   width = 1,           scan_clock.clk
		.pps_sampling_clk           (pps_sampling_clk),           //   input,   width = 1,       sampling_clock.clk
		.iopll_phased_clk           (iopll_phased_clk),           //   input,   width = 1,         phased_clock.clk
		.iopll_locked               (iopll_locked),               //   input,   width = 1,        pll_interface.lock
		.iopll_phase_done           (iopll_phase_done),           //   input,   width = 1,                     .done
		.iopll_phase_en             (iopll_phase_en),             //  output,   width = 1,                     .enable
		.iopll_updn                 (iopll_updn),                 //  output,   width = 1,                     .up_down
		.iopll_num_phase_shifts     (iopll_num_phase_shifts),     //  output,   width = 3,                     .num
		.iopll_cnt_sel              (iopll_cnt_sel),              //  output,   width = 5,                     .count_select
		.pps_pulse_per_second       (pps_pulse_per_second)        //  output,   width = 1,        pps_interface.phased_pulse
	);

endmodule
